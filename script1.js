var tests = {
    "tests": [
        {
            "qID": 1,
            "qName": "К воспалительным заболеваниям челюстей относятся …",
            "rA": [
                "периостит",
                "остеомиелит"
            ],
            "wA": [
                "периодонтит",
                "пародонтоз",
                "десмодонтоз"
            ]
        },
        {
            "qID": 2,
            "qName": "Воспаление надкостницы – это …",
            "rA": [
                "периостит"
            ],
            "wA": [
                "пародонтит",
                "периодонтит",
                "остит",
                "остеомиелит"
            ]
        },
        {
            "qID": 3,
            "qName": "Сочетанное воспаление костной ткани и костного мозга – это …",
            "rA": [
                "остеомиелит"
            ],
            "wA": [
                "пародонтит",
                "периодонтит",
                "периостит",
                "остит"
            ]
        },
        {
            "qID": 4,
            "qName": "К клинико-морфологическим формам острого периостита относятся …",
            "rA": [
                "серозный",
                "очаговый гнойный",
                "диффузный гнойный"
            ],
            "wA": [
                "гранулематозный",
                "геморрагический"
            ]
        },
        {
            "qID": 5,
            "qName": "К клинико-морфологическим формам хронического периостита относятся …",
            "rA": [
                "фиброзный",
                "оссифицирующий"
            ],
            "wA": [
                "гранулематозный",
                "серозный",
                "гнойный"
            ]
        },
        {
            "qID": 6,
            "qName": "Основные причины развития острого периостита - …",
            "rA": [
                "осложнение острого периодонтита",
                "обострение хронического периодонтита",
                "нагноение челюстных кист"
            ],
            "wA": [
                "пародонтоз тяжелой степени"
            ]
        },
        {
            "qID": 7,
            "qName": "Патоморфологическая картина острого серозного периостита - …",
            "rA": [
                "гиперемия и отек со слабой лейкоцитарной инфильтрацией"
            ],
            "wA": [
                "массивная лейкоцитарная инфильтрация периоста альвеолярного отростка челюсти",
                "распространение лейкоцитарного инфильтрата на периост тела челюсти",
                "продуктивное воспаление с замещением периоста грубоволокнистой соединительной тканью",
                "диффузное продуктивное воспаление с замещением периоста пластинчатой костной тканью"
            ]
        },
        {
            "qID": 8,
            "qName": "Патоморфологическая картина очагового гнойного периостита - …",
            "rA": [
                "массивная лейкоцитарная инфильтрация периоста альвеолярного отростка челюсти"
            ],
            "wA": [
                "гиперемия и отек со слабой лейкоцитарной инфильтрацией",
                "распространение лейкоцитарного инфильтрата на периост тела челюсти",
                "продуктивное воспаление с замещением периоста грубоволокнистой соединительной тканью",
                "диффузное продуктивное воспаление с замещением периоста пластинчатой костной тканью"
            ]
        },
        {
            "qID": 9,
            "qName": "Патоморфологическая картина диффузного гнойного периостита - …",
            "rA": [
                "распространение лейкоцитарного инфильтрата на периост тела челюсти"
            ],
            "wA": [
                "гиперемия и отек со слабой лейкоцитарной инфильтрацией",
                "массивная лейкоцитарная инфильтрация периоста альвеолярного отростка челюсти",
                "продуктивное воспаление с замещением периоста грубоволокнистой соединительной тканью",
                "диффузное продуктивное воспаление с замещением периоста пластинчатой костной тканью"
            ]
        },
        {
            "qID": 10,
            "qName": "Патоморфологическая картина хронического фиброзного периостита - …",
            "rA": [
                "продуктивное воспаление с замещением периоста грубоволокнистой соединительной тканью"
            ],
            "wA": [
                "гиперемия и отек со слабой лейкоцитарной инфильтрацией",
                "массивная лейкоцитарная инфильтрация периоста альвеолярного отростка челюсти",
                "распространение лейкоцитарного инфильтрата на периост тела челюсти",
                "диффузное продуктивное воспаление с замещением периоста пластинчатой костной тканью"
            ]
        },
        {
            "qID": 11,
            "qName": "Патоморфологическая картина хронического оссифицирующего периостита - …",
            "rA": [
                "диффузное продуктивное воспаление с замещением периоста пластинчатой костной тканью"
            ],
            "wA": [
                "гиперемия и отек со слабой лейкоцитарной инфильтрацией",
                "массивная лейкоцитарная инфильтрация периоста альвеолярного отростка челюсти",
                "распространение лейкоцитарного инфильтрата на периост тела челюсти",
                "продуктивное воспаление с замещением периоста грубоволокнистой соединительной тканью"
            ]
        },
        {
            "qID": 12,
            "qName": "Для острого остеомиелита челюсти характерны следующие признаки …",
            "rA": [
                "некроз костной ткани с образованием секвестров",
                "формирование гнойных свищей"
            ],
            "wA": [
                "постепенное расшатывание и выпадение зубов",
                "разрушение зубных корней"
            ]
        },
        {
            "qID": 13,
            "qName": "Факторы, способствующие развитию хронического остеомиелита …",
            "rA": [
                "сенсибилизация бактериальными антигенами",
                "снижение общей резистентности организма",
                "несанированные очаги одонтогенной инфекции"
            ],
            "wA": [
                "недостаточная реминерализующая активность слюны"
            ]
        },
        {
            "qID": 14,
            "qName": "Осложнения острого остеомиелита челюсти - …",
            "rA": [
                "свищи и флегмоны мягких тканей лица и шеи",
                "одонтогенный сепсис",
                "лимфадениты"
            ],
            "wA": [
                "быстропрогрессирующий пародонтоз"
            ]
        },
        {
            "qID": 15,
            "qName": "Осложнения хронического остеомиелита челюсти - …",
            "rA": [
                "лимфадениты",
                "амилоидоз внутренних органов",
                "патологические переломы челюсти"
            ],
            "wA": [
                "жировая эмболия"
            ]
        },
        {
            "qID": 16,
            "qName": "К проявлениям одонтогенной инфекции относятся …",
            "rA": [
                "периостит челюсти",
                "остеомиелит челюсти",
                "лимфадениты челюстно-лицевой области",
                "абсцессы и флегмоны челюстно-лицевой области"
            ],
            "wA": [
                "гингивиты"
            ]
        },
        {
            "qID": 17,
            "qName": "Осложнения одонтогенной инфекции …",
            "rA": [
                "тромбоз синусов твердой мозговой оболочки",
                "гнойный менингит",
                "гнойный медиастинит"
            ],
            "wA": [
                "жировая эмболия"
            ]
        },
        {
            "qID": 18,
            "qName": "Основные особенности сепсиса …",
            "rA": [
                "полиэтиологичен",
                "не заразен",
                "не формируется иммунный ответ"
            ],
            "wA": [
                "имеет строго циклическое течение",
                "обязательно сопровождается бактериемией"
            ]
        },
        {
            "qID": 19,
            "qName": "Клинико-морфологическими формами сепсиса являются …",
            "rA": [
                "инфекционный эндокардит",
                "септицемия",
                "септикопиемия"
            ],
            "wA": [
                "инфекционный миокардит",
                "бактериемия"
            ]
        },
        {
            "qID": 20,
            "qName": "Общие изменения при сепсисе представлены …",
            "rA": [
                "дистрофией и межуточным воспалением паренхиматозных органов",
                "васкулитами",
                "гиперплазией лимфоидной и кроветворной тканей"
            ],
            "wA": [
                "инфекционным эндокардитом",
                "тромбофлебитом в области септического очага"
            ]
        },
        {
            "qID": 21,
            "qName": "Характерными признаками септицемии являются …",
            "rA": [
                "выраженная гиперергическая реакция",
                "острое или молниеносное течение",
                "общие изменения преобладают над местными"
            ],
            "wA": [
                "множественные метастатические абсцессы внутренних органов",
                "тромбобактериальная эмболия"
            ]
        },
        {
            "qID": 22,
            "qName": "Характерными признаками септикопиемии являются …",
            "rA": [
                "множественные метастатические абсцессы внутренних органов",
                "тромбобактериальная эмболия"
            ],
            "wA": [
                "выраженная гиперергическая реакция",
                "острое или молниеносное течение",
                "общие изменения преобладают над местными"
            ]
        },
        {
            "qID": 23,
            "qName": "Морфологическая картина септического эндокардита характеризуется … эндокардитом",
            "rA": [
                "полипозно-язвенным"
            ],
            "wA": [
                "возвратно-бородавчатым",
                "фибропластическим",
                "флегмонозно-язвенным"
            ]
        },
        {
            "qID": 24,
            "qName": "К одонтогенным кистам челюстей относятся …",
            "rA": [
                "радикулярная киста",
                "фолликулярная киста"
            ],
            "wA": [
                "глобуломаксиллярная киста",
                "киста резцового канала"
            ]
        },
        {
            "qID": 25,
            "qName": "К неодонтогенным кистам челюстей относятся …",
            "rA": [
                "глобуломаксиллярная киста",
                "киста резцового канала"
            ],
            "wA": [
                "радикулярная киста",
                "фолликулярная киста"
            ]
        },
        {
            "qID": 26,
            "qName": "Клинико-морфологические признаки радикулярной кисты …",
            "rA": [
                "встречается гораздо чаще других челюстных кист",
                "имеет воспалительное происхождение",
                "стенка выстлана многослойным плоским эпителием"
            ],
            "wA": [
                "имеет дизонтогенетическое происхождение"
            ]
        },
        {
            "qID": 27,
            "qName": "Морфологические проявления радикулярной кисты …",
            "rA": [
                "толщина фиброзной стенки зависит от активности воспаления",
                "стенка выстлана многослойным плоским эпителием",
                "эпителий формирует сетевидные отростки погружного роста"
            ],
            "wA": [
                "стенка выстлана одонтогенным эпителием"
            ]
        },
        {
            "qID": 28,
            "qName": "Морфологические проявления фолликулярной кисты …",
            "rA": [
                "эпителиальная выстилка тонкая – в 2-3 слоя клеток",
                "в просвете может содержать зачатки зубов",
                "в выстилке встречаются островки одонтогенного эпителия"
            ],
            "wA": [
                "эпителиальная выстилка толстая с элементами погружного роста"
            ]
        },
        {
            "qID": 29,
            "qName": "Клинико-морфологические признаки первичной кисты (кератокисты) …",
            "rA": [
                "внутренняя поверхность выстлана многослойным плоским эпителием",
                "может распространяться по длиннику челюсти",
                "имеет дизонтогенетическое происхождение"
            ],
            "wA": [
                "имеет воспалительное происхождение",
                "встречается гораздо чаще других челюстных кист"
            ]
        },
        {
            "qID": 30,
            "qName": "К общим признакам одонтогенных опухолей челюсти относятся …",
            "rA": [
                "чаще являются доброкачественными",
                "рост преимущественно местнодеструирующий",
                "носят органоспецифический характер"
            ],
            "wA": [
                "чаще являются злокачественными"
            ]
        },
        {
            "qID": 31,
            "qName": "К одонтогенным опухолям челюстей относятся …",
            "rA": [
                "амелобластома",
                "первичная внутрикостная карцинома",
                "цементома"
            ],
            "wA": [
                "гигантоклеточная опухоль (остеобластокластома)",
                "остеосаркома челюсти"
            ]
        },
        {
            "qID": 32,
            "qName": "К одонтогенным эпителиальным опухолям относятся …",
            "rA": [
                "амелобластома",
                "первичная карцинома челюсти"
            ],
            "wA": [
                "цементома",
                "дентинома",
                "одонтогенная саркома"
            ]
        },
        {
            "qID": 33,
            "qName": "К одонтогенным мезенхимальным опухолям относятся …",
            "rA": [
                "цементома",
                "дентинома",
                "одонтогенная саркома"
            ],
            "wA": [
                "амелобластома",
                "первичная карцинома челюсти"
            ]
        },
        {
            "qID": 34,
            "qName": "Клинико-морфологические признаки амелобластомы …",
            "rA": [
                "доброкачественная одонтогенная опухоль",
                "чаще поражает нижнюю челюсть",
                "построена из островков одонтогенного эпителия"
            ],
            "wA": [
                "злокачественная одонтогенная опухоль",
                "построена из одонтогенной мезенхимы"
            ]
        },
        {
            "qID": 35,
            "qName": "Клинико-морфологические признаки дентиномы …",
            "rA": [
                "доброкачественная одонтогенная опухоль",
                "развивается из одонтогенной мезенхимы"
            ],
            "wA": [
                "злокачественная одонтогенная опухоль",
                "развивается из одонтогенного эпителия"
            ]
        },
        {
            "qID": 36,
            "qName": "К неодонтогенным опухолям челюстей относятся …",
            "rA": [
                "остеома",
                "гигантоклеточная опухоль (остеобластокластома)"
            ],
            "wA": [
                "амелобластома",
                "дентинома"
            ]
        },
        {
            "qID": 37,
            "qName": "Остеома челюсти – это …",
            "rA": [
                "доброкачественная неодонтогенная опухоль"
            ],
            "wA": [
                "доброкачественная одонтогенная опухоль",
                "злокачественная одонтогенная опухоль",
                "злокачественная неодонтогенная опухоль"
            ]
        },
        {
            "qID": 38,
            "qName": "Остеобластокластома (гигантоклеточная опухоль) – это …",
            "rA": [
                "неодонтогенная опухоль челюсти"
            ],
            "wA": [
                "доброкачественная одонтогенная опухоль челюсти",
                "злокачественная одонтогенная опухоль челюсти",
                "разновидность фиброзной дисплазии челюсти"
            ]
        },
        {
            "qID": 39,
            "qName": "Для фиброзной дисплазии челюстей характерны следующие признаки …",
            "rA": [
                "чаще поражает верхнюю челюсть",
                "вызывает выраженную деформацию лица",
                "характеризуется разрастанием примитивной костно-волокнистой ткани"
            ],
            "wA": [
                "чаще поражает нижнюю челюсть",
                "характеризуется избыточным окостенением челюстей"
            ]
        },
        {
            "qID": 40,
            "qName": "Херувизм – это …",
            "rA": [
                "разновидность фиброзной дисплазии челюсти"
            ],
            "wA": [
                "доброкачественная одонтогенная опухоль челюсти",
                "злокачественная одонтогенная опухоль челюсти",
                "неодонтогенная опухоль челюсти"
            ]
        }
    ]
};
var test = 0;
var amountTest = 0;
var iterGlobal = 0;
var exit = 0;
var key = [];
var selected = [];
var right = 0;
var wrongAnswers = [];
document.querySelector(".button").addEventListener("click", startQuiz);


var oToday = new Date();

function getDaysLeft(oDeadLineDate, oToday){
  return oDeadLineDate > oToday ? Math.ceil((oDeadLineDate - oToday) / (1000 * 60 * 60 * 24)) : null;
}

function MkDaysLeft(sDeadLineDate, sDeadLineText){
  var sTime = sDeadLineDate + " " + oToday.getHours() + ":" + oToday.getMinutes() + ":" + oToday.getSeconds();
  var oDeadLineDate = new Date(sTime);
  var nDaysLeft = getDaysLeft(oDeadLineDate, oToday);
  if (nDaysLeft){
    var sDaysLeft = String(nDaysLeft);
    var sDaysText = "дней";
    var nDaysLeftLength = sDaysLeft.length;
    if (sDaysLeft.charAt(nDaysLeftLength - 2) != "1"){
      if (sDaysLeft.charAt(nDaysLeftLength - 1) == "2" || sDaysLeft.charAt(nDaysLeftLength - 1) == "3" || sDaysLeft.charAt(nDaysLeftLength - 1) == "4") sDaysText = "дня";
      else if (sDaysLeft.charAt(nDaysLeftLength - 1) == "1") sDaysText = "день";
    }
    var sLeftText = sDaysText == "день" ? "остался" : "осталось";
    return sDeadLineText + " " + sLeftText + " " + nDaysLeft + " " + sDaysText + ".";
  }else return "Ну вот и тесты";
}
window.onload = function() {
document.querySelector(".status-timer").innerHTML = MkDaysLeft("May 25, 2018", "До тестов");
}


function startQuiz() {
	document.querySelector(".status").style.display = "block";
	document.querySelector(".status-timer").style.display = "none";
	document.querySelector(".checkbox-wrapper").style.display = "none";
	var variant = document.querySelector('.select').selectedIndex;
	console.log(variant);
	var varfile;
	switch(variant) {
		case 0:
			varfile = 'pulm.json';
			break;
		case 1:
			varfile = 'ibs.json';
			break;
		case 2:
			varfile = 'gbreum.json';
			break;
		case 3:
			varfile = 'klsn.json';
			break;
		case 4:
			varfile = 'gdcp.json';
			break;
		case 5:
			varfile = 'hep.json';
			break;
		case 6:
			varfile = 'nephr.json';
			break;
	}
	var xhr = new XMLHttpRequest();
	var xhrre;
	xhr.open('GET', varfile, false);
	xhr.send();
	if (xhr.status != 200) {
	  test = tests.tests;
	  alert( 'Нажми для продолжения' );
	} else {
	  xhrre = JSON.parse(xhr.responseText);
	  test = xhrre.tests;
	}
	if (document.querySelector(".checkbox").checked === true) {
	test = shuffle(test);
	}
	amountTest = test.length;
	iterGlobal = 0;
	exit = 0;
	key = [];
	selected = [];
	right = 0;
	wrongAnswers = [];
	document.querySelector(".button").removeEventListener("click", startQuiz);
	newQuestion();
	startTimer();
}
function newQuestion() {
	drawStatus();
	while (document.querySelector('.answers').hasChildNodes()) {
    	document.querySelector('.answers').removeChild(document.querySelector('.answers').lastChild);
	} // Очищаем предыдущие варианты	
	currentQuestion = test[iterGlobal]; // Текущий вопрос
	key = getKey(currentQuestion.rA.length, currentQuestion.wA.length); // Ключ к вопросу
	drawQuestion(currentQuestion, key);

	document.querySelector(".button").innerHTML = "ПОДТВЕРДИТЬ";
	document.querySelector(".button").addEventListener("click", compare);
	document.querySelector(".button").removeEventListener("click", newQuestion);
	if (document.querySelector(".select").getAttribute('hidden') == null) document.querySelector(".select").setAttribute('hidden', 'true');

}
function compare() {
	for (var i= 0; i < key.length; i++) {
		if (key[i] == 1) {
			document.getElementById(i + 1).className += " answers__answer_right";
		}
	}
	if (key.join(";") == selected.join(";")) {
		right++;
	} else {
		wrongAnswers.push(iterGlobal);
	}
	iterGlobal++;
  	if (iterGlobal < amountTest) {
 		document.querySelector(".button").innerHTML = "ДАЛЕЕ";
 		document.querySelector(".button").addEventListener("click", newQuestion);
 		document.querySelector(".button").removeEventListener("click", compare);
	} else {
		document.querySelector(".button").innerHTML = "ЗАКОНЧИТЬ";
 		document.querySelector(".button").addEventListener("click", drawEnd);
  		document.querySelector(".button").addEventListener("click", drawStatus);
 		document.querySelector(".button").removeEventListener("click", compare);
	}
}

function drawStatus() {
	var iter = iterGlobal + 1;
	if (iterGlobal == amountTest) iter = iterGlobal;
	var accuracy = right * 100 / iterGlobal;
	if (right == 0) {
		accuracy = 0;
	}
	var wrong = iterGlobal - right;
	document.querySelector(".status__index").innerHTML = iter + " / " + amountTest;
	document.querySelector(".status__accuracy").innerHTML = Math.round(accuracy) + "% | " + wrong + " неверно";
}


function drawQuestion(currentQuestion, key) {
	document.querySelector('.question__name').innerHTML = currentQuestion.qName;
	rA = shuffle(currentQuestion.rA);
	rAi = 0;
	wA = shuffle(currentQuestion.wA);
	wAi = 0;
	selected = [];
	amountAnswers = rA.length + wA.length;
	for (var i = 0; i < amountAnswers; i++) {
		if (key[i] == 0) {
			var answer = document.createElement('div');
			answer.className = "answers__answer answers__answer_unselected";
			answer.id = i + 1;
			answer.innerHTML = wA[wAi];
			wAi++;
			document.querySelector('.answers').appendChild(answer);
			document.querySelector('.answers').lastChild.addEventListener("click", getSelected);
			selected.push(0);
		} else {
			var answer = document.createElement('div');
			answer.className = "answers__answer answers__answer_unselected";
			answer.id = i + 1;
			answer.innerHTML = rA[rAi];
			rAi++;
			document.querySelector('.answers').appendChild(answer);
			document.querySelector('.answers').lastChild.addEventListener("click", getSelected);	
			selected.push(0);		
		}
	}
}

function drawEnd() {
	stopTimer();
	while (document.querySelector('.answers').hasChildNodes()) {
    document.querySelector('.answers').removeChild(document.querySelector('.answers').lastChild);
	}
	document.querySelector(".button").setAttribute('hidden', 'true');
	document.querySelector('.question__name').innerHTML = "РЕЗУЛЬТАТ";
	document.querySelector(".result").removeAttribute('hidden');
	document.querySelector(".bblock").removeAttribute('hidden');
	document.querySelector(".bblcok__button1").addEventListener("click", function() {window.location.href = "index.html" });
	document.querySelector(".bblcok__button3").addEventListener("click", function() {window.location.reload(false) });
	var accuracy = right * 100 / iterGlobal;
	document.querySelector('.result').innerHTML = Math.round(accuracy) + "%";
	if (wrongAnswers.length > 0) {
		document.querySelector(".bblcok__button2").addEventListener("click", reMatch);
	} else {
		document.querySelector(".bblcok__button2").className += " bblcok__button2_inactive";
	}
}

function reMatch() {
	startTimer();
	var newTest = [];
	for (var i=0; i < wrongAnswers.length; i++) {
		var iTest = wrongAnswers[i];
		newTest.push(test[iTest]);
	}
	test = newTest;
	iterGlobal = 0;
	amountTest = test.length;
	right = 0;
	key = [];
	selected = [];
	wrongAnswers = [];
	document.querySelector(".button").removeAttribute('hidden', 'true');
	document.querySelector(".result").setAttribute('hidden', 'true');
	document.querySelector(".bblock").setAttribute('hidden', 'true');
 	document.querySelector(".button").removeEventListener("click", drawEnd);
 	document.querySelector(".bblcok__button2").removeEventListener("click", reMatch);
	newQuestion();
}
function getSelected(elem) {
	selected[elem.target.id - 1] = 1;
	elem.target.className = "answers__answer answers__answer_selected";
	elem.target.removeEventListener("click", getSelected);
	elem.target.addEventListener("click", getUnSelected);
}
function getUnSelected(elem) {
	selected[elem.target.id - 1] = 0;
	elem.target.className = "answers__answer answers__answer_unselected";
	elem.target.removeEventListener("click", getUnSelected);
	elem.target.addEventListener("click", getSelected);
}
var timer;
function startTimer() {
	if (timer) clearInterval(timer);
	secs = 0;
	min = 0;
	document.querySelector('.status__time').innerHTML = min + ":0" + secs;
	timer = setInterval(
		function () {
			secs++;
			if (secs == 60) {
				secs = 0;
				min++;
			}
			if (secs < 10) {
				document.querySelector('.status__time').innerHTML = min + ":0" + secs;
			} else {
				document.querySelector('.status__time').innerHTML = min + ":" + secs;
			}
		},
		1000
	);
}
function stopTimer() {
    if (timer) clearInterval(timer); 	
}
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}
function getKey(rAL, wAL) {
	arr = [];
	for (rAL; rAL > 0; rAL--) {
		arr.push(1);
	}
	for (wAL; wAL > 0; wAL--) {
		arr.push(0);
	}
	shuffle(arr);
	return(arr);
}
/*
function newQuestion(i) {
	var currentTest = test[i];
	var amountAnswers = currentTest.rA.length + currentTest.wA.length;
	var key = getKey(currentTest.rA.length, currentTest.wA.length);
	var iterKey = 0;
	var iterWA = 0;
	var iterRA = 0;
	var allAnswers = [];
	for (iterKey; iterKey < amountAnswers; iterKey++) {
		if (key[iterKey] == 0) {
			allAnswers.push(currentTest.wA[iterWA]);
			iterWA++;
		} else {
			allAnswers.push(currentTest.rA[iterRA]);
			iterRA++;
		}
	}
	document.querySelector('.question__name').innerHTML = currentTest.qName;
	var amountAnswersIter = amountAnswers;
	var iter = 0;
	while (document.querySelector('.answers').hasChildNodes()) {
    	document.querySelector('.answers').removeChild(document.querySelector('.answers').lastChild);
	}	
	for (amountAnswersIter; amountAnswersIter > 0; amountAnswersIter--) {
		var answer = document.createElement('div');
		answer.className = "answers__answer answers__answer_unselected";
		answer.id = iter + 1;
		answer.innerHTML = allAnswers[iter];
		document.querySelector('.answers').appendChild(answer);
		document.querySelector('.answers').lastChild.addEventListener("click", getSelected);
		selected.push(0);
		iter++;
	}
	iter = 0;
	function compare(elem) {
		var iter = 0;
		console.log(key);
		for (iter; iter < key.length; iter++) {
			if (key[iter] == 1) {
				console.log(iter);
				document.getElementById(iter + 1).className += " answers__answer_right";
			}
		}
		if (selected == key) right++;
		elem.toElement.removeEventListener("click", compare);
		elem.toElement.addEventListener("click", goToNext);	
		elem.toElement.innerHTML = "ДАЛЕЕ";
	}
	function goToNext(elem) {
	newQuestion(2)
	elem.toElement.removeEventListener("click", goToNext);
	elem.toElement.addEventListener("click", compare);
	elem.toElement.innerHTML = "ПОДТВЕРДИТЬ";
	}
	document.querySelector('.button').addEventListener("click", compare);

}
newQuestion(1)
function getSelected(elem) {
	selected[elem.toElement.id - 1] = 1;
	console.log(selected);
	elem.toElement.className = "answers__answer answers__answer_selected";
	elem.toElement.removeEventListener("click", getSelected);
	elem.toElement.addEventListener("click", getUnSelected);
}
function getUnSelected(elem) {
	selected[elem.toElement.id - 1] = 0;
	console.log(selected);
	elem.toElement.className = "answers__answer answers__answer_unselected";
	elem.toElement.removeEventListener("click", getUnSelected);
	elem.toElement.addEventListener("click", getSelected);
}
*/
